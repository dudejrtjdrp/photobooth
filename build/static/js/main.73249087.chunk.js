(this["webpackJsonp20210813-577-1-published"]=this["webpackJsonp20210813-577-1-published"]||[]).push([[0],{17:function(e,t,o){},80:function(e,t,o){},81:function(e,t,o){var n={"./Capture001.png":82,"./photobooth18.jpg":83,"./photobooth19.jpg":84};function c(e){var t=a(e);return o(t)}function a(e){if(!o.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}c.keys=function(){return Object.keys(n)},c.resolve=a,e.exports=c,c.id=81},82:function(e,t,o){"use strict";o.r(t),t.default=o.p+"static/media/Capture001.cff80926.png"},83:function(e,t,o){"use strict";o.r(t),t.default=o.p+"static/media/photobooth18.28a36b1f.jpg"},84:function(e,t,o){"use strict";o.r(t),t.default=o.p+"static/media/photobooth19.cd1e8a96.jpg"},85:function(e,t,o){"use strict";o.r(t);var n=o(14),c=o.n(n),a=(o(17),o(21)),r=o(33),l=o(3),u=o(0),s=o(34),i=o.n(s),d=o(7),j="counter/PLUS",b="counter/MINUS",g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return t.count?e+t.count:e+1;case b:return t.count?e-t.count:e-1;default:return e}},f=o(12),h=o.n(f),O=o(2),p={width:720,height:360,facingMode:"user"},m=(o(71),o(79),function(){var e=Object(u.useState)(0),t=Object(l.a)(e,2),o=(t[0],t[1]),n=Object(u.useState)(0),c=Object(l.a)(n,2),s=(c[0],c[1]),j=Object(u.useState)("0"),b=Object(l.a)(j,2),g=b[0],f=b[1];Object(u.useEffect)((function(){window.addEventListener("resize",(function(e){o(window.outerWidth)}))}),[window.outerWidth]),Object(u.useEffect)((function(){window.addEventListener("resize",(function(e){s(window.outerHeight)}))}),[window.outerHeight]);Object(d.b)(),Object(d.c)((function(e){return e}));function m(e,t){return new File([e],t,{lastModified:(new Date).getTime(),type:e.type})}function v(){return(v=Object(r.a)(Object(a.a)().mark((function e(t){var o,n,c,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return o=e.sent,e.next=5,o.blob();case 5:return n=e.sent,"0"===localStorage.getItem("localCount")?(f("0"),localStorage.setItem("localCount","0")):(f(localStorage.getItem("localCount")),console.log(localStorage.getItem("localCount"))),c=m(n,"photobooth"+localStorage.getItem("localCount")+".jpg"),console.log(localStorage.getItem("localCount")),console.log(g),console.log(o),console.log(n),console.log(c),(r=new FormData).append("file",c),e.next=17,h()({method:"post",url:"http://204.236.180.208:5000/fileUpload",data:r,headers:{"Content-Type":"multipart/form-data"}});case 17:f((Number(localStorage.getItem("localCount"))+1).toString()),localStorage.setItem("localCount",(Number(localStorage.getItem("localCount"))+1).toString()),localStorage.setItem("isNew","True");case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=Object(u.useState)(!1),S=Object(l.a)(w,2),x=(S[0],S[1],Object(u.useRef)(null)),C=Object(u.useState)(null),I=Object(l.a)(C,2),y=(I[0],I[1]),E=Object(u.useCallback)((function(){var e,t=null===(e=x.current)||void 0===e?void 0:e.getScreenshot();t&&(y(t),function(e){v.apply(this,arguments)}(t))}),[x]);return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{style:{overflow:"hidden",width:"100vw",height:"100vh"},onKeyDown:function(e){"Enter"===e.code&&(e.preventDefault(),E(),console.log(e))},tabIndex:0,children:Object(O.jsx)(i.a,{mirrored:!0,audio:!1,width:window.outerWidth,height:window.outerHeight,ref:x,screenshotFormat:"image/jpeg",videoConstraints:p})})})})}),v=o(8),w=o(15),S=Object(v.combineReducers)({counter:g}),x=(o(80),function(){Object(d.b)();var e=Object(u.useState)(0),t=Object(l.a)(e,2),n=t[0],c=t[1];Object(u.useEffect)((function(){h.a.get("http://204.236.180.208:5000/fileUpload").then((function(e){console.log(e.data),C(e.data.result.reverse()),c(e.data.result.length)})).catch((function(e){console.log(e)}))}));var a=Object(d.c)((function(e){return e.counter})),r=Object(v.createStore)(S,Object(w.composeWithDevTools)());console.log(r.getState());var s=Object(u.useState)(!1),i=Object(l.a)(s,2),j=(i[0],i[1],Object(u.useRef)(null)),b=Object(u.useState)(null),g=Object(l.a)(b,2),f=(g[0],g[1]),p=(Object(u.useCallback)((function(){var e,t=null===(e=j.current)||void 0===e?void 0:e.getScreenshot();t&&(f(t),console.log(a))}),[j]),Object(u.useState)([])),m=Object(l.a)(p,2),x=m[0],C=m[1];Object(u.useEffect)((function(){setInterval((function(){"True"===localStorage.getItem("isNew")&&(console.log("True"),localStorage.setItem("isNew","False"),h.a.get("http://localhost:5000/fileUpload").then((function(e){console.log(e.data),C(e.data.result.reverse()),c(e.data.result.length)})).catch((function(e){console.log(e)})))}),1e3)}),[]);!function(e){var t={};e.keys().forEach((function(o,n){t[o.replace("./","")]=e(o)}))}(o(81));return Object(O.jsxs)(O.Fragment,{children:[n,Object(O.jsx)("div",{className:"image-grid",children:x.map((function(e){return Object(O.jsx)("img",{src:e})}))})]})}),C=o(37),I=o(1),y=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(C.a,{children:Object(O.jsxs)(I.c,{children:[Object(O.jsx)(I.a,{path:"/",element:Object(O.jsx)(m,{})}),Object(O.jsx)(I.a,{path:"/gallery",element:Object(O.jsx)(x,{})})]})})})},E=Object(v.createStore)(S,Object(w.composeWithDevTools)());console.log(E.getState()),c.a.render(Object(O.jsx)(d.a,{store:E,children:Object(O.jsx)(y,{})}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.73249087.chunk.js.map