{"version":3,"sources":["assets sync nonrecursive /.(png|jpe?g|svg)$","assets/Capture001.png","assets/photobooth18.jpg","assets/photobooth19.jpg","modules/states.ts","photoBooth.tsx","modules/index.ts","gallery.tsx","App.tsx","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","PLUS","MINUS","counter","state","action","type","count","videoConstraints","width","height","facingMode","PhotoBooth","require","useState","setWindowWidth","setWindowHeight","localCount","setLocalCount","useEffect","window","addEventListener","outerWidth","outerHeight","useDispatch","useSelector","blobToFile","theBlob","fileName","File","lastModified","Date","getTime","imageSrc","fetch","image","blob","imageBlog","localStorage","getItem","setItem","console","log","blobFile","formData","FormData","append","axios","method","url","data","headers","Number","toString","webcamRef","useRef","setUrl","capture","useCallback","current","getScreenshot","downloadImage","style","overflow","onKeyDown","preventDefault","tabIndex","mirrored","audio","ref","screenshotFormat","rootReducer","combineReducers","Gallery","photoCount","setPhotoCount","get","then","Response","setResponseArray","result","reverse","length","catch","store","createStore","composeWithDevTools","getState","responseArray","setInterval","r","images","forEach","item","index","replace","importAll","className","src","App","path","element","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.73249087.chunk.js","sourcesContent":["var map = {\n\t\"./Capture001.png\": 82,\n\t\"./photobooth18.jpg\": 83,\n\t\"./photobooth19.jpg\": 84\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 81;","export default __webpack_public_path__ + \"static/media/Capture001.cff80926.png\";","export default __webpack_public_path__ + \"static/media/photobooth18.28a36b1f.jpg\";","export default __webpack_public_path__ + \"static/media/photobooth19.cd1e8a96.jpg\";","const PLUS = 'counter/PLUS';\r\nconst MINUS = 'counter/MINUS';\r\n \r\nexport const plusCounter = (count: any) => ({ type: PLUS, count });\r\nexport const minusCounter = (count: any) => ({ type: MINUS, count });\r\nexport const showCounter = (count: any) => ({ type: 'Default', count });\r\n \r\nconst initialState = 0;\r\n \r\nconst counter = (state = initialState, action: any) => {\r\n    switch (action.type) {\r\n        case PLUS:\r\n            return action.count ? state + action.count : state + 1;\r\n        case MINUS:\r\n            return action.count ? state - action.count : state - 1;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n \r\nexport default counter;","import {\r\n  useRef,\r\n  useState,\r\n  useCallback,\r\n  useEffect,\r\n  useLayoutEffect,\r\n} from \"react\";\r\nimport Webcam from \"react-webcam\";\r\nimport \"./styles.css\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { plusCounter, showCounter } from \"./modules/states\";\r\nimport { createStore } from \"redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport { Provider } from \"react-redux\";\r\nimport rootReducer from \"./modules/index\";\r\nimport { useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\n\r\nconst videoConstraints = {\r\n  width: 720,\r\n  height: 360,\r\n  facingMode: \"user\",\r\n};\r\n\r\nconst downloadsFolder = require(\"downloads-folder\");\r\n\r\nconst fileDownload = require(\"js-file-download\");\r\n\r\nexport const PhotoBooth = () => {\r\n  const [windowWidth, setWindowWidth] = useState(0);\r\n  const [windowHeight, setWindowHeight] = useState(0);\r\n  const [localCount, setLocalCount] = useState<any | null>(\"0\");\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", (e) => {\r\n      // console.log(window.outerWidth)\r\n      setWindowWidth(window.outerWidth);\r\n    });\r\n  }, [window.outerWidth]);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", (e) => {\r\n      // console.log(window.outerHeight)\r\n      setWindowHeight(window.outerHeight);\r\n    });\r\n  }, [window.outerHeight]);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const onIncrease = () => dispatch(plusCounter(1));\r\n  const count = useSelector((state: any) => state);\r\n\r\n  function blobToFile(theBlob: any, fileName: any) {\r\n    return new File([theBlob], fileName, {\r\n      lastModified: new Date().getTime(),\r\n      type: theBlob.type,\r\n    });\r\n  }\r\n\r\n  async function downloadImage(imageSrc: RequestInfo) {\r\n    const image = await fetch(imageSrc);\r\n    const imageBlog = await image.blob();\r\n    if (localStorage.getItem(\"localCount\") === \"0\") {\r\n      setLocalCount(\"0\");\r\n      localStorage.setItem(\"localCount\", \"0\");\r\n    } else {\r\n      setLocalCount(localStorage.getItem(\"localCount\"));\r\n      console.log(localStorage.getItem(\"localCount\"));\r\n    }\r\n    const blobFile = blobToFile(\r\n      imageBlog,\r\n      \"photobooth\" + localStorage.getItem(\"localCount\") + \".jpg\"\r\n    );\r\n    console.log(localStorage.getItem(\"localCount\"));\r\n    console.log(localCount);\r\n    console.log(image);\r\n    console.log(imageBlog);\r\n    console.log(blobFile);\r\n    const formData = new FormData();\r\n    formData.append(\"file\", blobFile);\r\n    await axios({\r\n      method: \"post\",\r\n      url: \"http://204.236.180.208:5000/fileUpload\",\r\n      data: formData,\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    });\r\n\r\n    // const imageURL = URL.createObjectURL(imageBlog);\r\n    // const link = document.createElement(\"a\");\r\n    // link.href = imageURL;\r\n    // link.download = \"photobooth\" + localStorage.getItem(\"localCount\");\r\n    // document.body.appendChild(link);\r\n    // link.click();\r\n    // document.body.removeChild(link);\r\n    setLocalCount((Number(localStorage.getItem(\"localCount\")) + 1).toString());\r\n    localStorage.setItem(\r\n      \"localCount\",\r\n      (Number(localStorage.getItem(\"localCount\")) + 1).toString()\r\n    );\r\n    localStorage.setItem(\"isNew\", \"True\");\r\n    // console.log((Number(localStorage.getItem(\"localCount\")) + 1).toString());\r\n  }\r\n\r\n  const [isCaptureEnable, setCaptureEnable] = useState<boolean>(false);\r\n\r\n  const webcamRef = useRef<Webcam>(null);\r\n  const [url, setUrl] = useState<string | null>(null);\r\n  const capture = useCallback(() => {\r\n    const imageSrc = webcamRef.current?.getScreenshot();\r\n    if (imageSrc) {\r\n      setUrl(imageSrc);\r\n      downloadImage(imageSrc);\r\n    }\r\n  }, [webcamRef]);\r\n\r\n  const consoleLog = (e: any) => {\r\n    if (e.code === \"Enter\") {\r\n      e.preventDefault();\r\n      capture();\r\n      console.log(e);\r\n      // capture();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* <header>\r\n        <h1>여기보세용</h1>\r\n        {count.counter}\r\n      </header> */}\r\n      <>\r\n        <div style={{ overflow: \"hidden\", width:\"100vw\", height:\"100vh\" }} onKeyDown={consoleLog} tabIndex={0}>\r\n          <Webcam\r\n            mirrored={true}\r\n            audio={false}\r\n            width={window.outerWidth}\r\n            height={window.outerHeight}\r\n            ref={webcamRef}\r\n            screenshotFormat=\"image/jpeg\"\r\n            videoConstraints={videoConstraints}\r\n          />\r\n        </div>\r\n        {/* <button onClick={capture}>사진 촬영</button> */}\r\n      </>\r\n\r\n      {/* {url && (\r\n        <>\r\n          <div>\r\n            <button\r\n              onClick={() => {\r\n                setUrl(null);\r\n              }}\r\n            >\r\n              다시 찍기\r\n            </button>\r\n          </div>\r\n          <div>\r\n            <img src={url} alt=\"Screenshot\" />\r\n          </div>\r\n        </>\r\n      )} */}\r\n    </>\r\n  );\r\n};\r\n","import { combineReducers } from 'redux';\r\nimport counter from './states';\r\n \r\nconst rootReducer = combineReducers({\r\n    counter\r\n});\r\n \r\nexport default rootReducer;","import { useRef, useState, useCallback, useEffect } from \"react\";\r\nimport Webcam from \"react-webcam\";\r\nimport \"./styles.css\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { createStore } from \"redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport { Provider } from \"react-redux\";\r\nimport rootReducer from \"./modules/index\";\r\nimport { useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport \"./gallery.css\";\r\n\r\nconst videoConstraints = {\r\n  width: 720,\r\n  height: 360,\r\n  facingMode: \"user\",\r\n};\r\n\r\nexport const Gallery = () => {\r\n  const dispatch = useDispatch();\r\n  const [photoCount, setPhotoCount] = useState(0);\r\n\r\n  useEffect(() => {\r\n    axios\r\n    .get(\"http://204.236.180.208:5000/fileUpload\")\r\n    .then((Response) => {\r\n      console.log(Response.data);\r\n      setResponseArray(Response.data.result.reverse());\r\n      setPhotoCount(Response.data.result.length)\r\n    })\r\n    .catch((Error) => {\r\n      console.log(Error);\r\n    });\r\n  });\r\n\r\n  const count = useSelector((state: any) => state.counter);\r\n\r\n  const store = createStore(rootReducer, composeWithDevTools());\r\n  console.log(store.getState());\r\n\r\n  const [isCaptureEnable, setCaptureEnable] = useState<boolean>(false);\r\n  const webcamRef = useRef<Webcam>(null);\r\n  const [url, setUrl] = useState<string | null>(null);\r\n  const capture = useCallback(() => {\r\n    const imageSrc = webcamRef.current?.getScreenshot();\r\n    if (imageSrc) {\r\n      setUrl(imageSrc);\r\n      console.log(count);\r\n    }\r\n  }, [webcamRef]);\r\n\r\n  const [responseArray, setResponseArray] = useState([]);\r\n  useEffect(() => {\r\n    setInterval(() => {\r\n      // const localStorageValue = [{ name: \"object2\" }]; //JSON.parse(localStorage.getItem(\"objects\"));\r\n      if (localStorage.getItem(\"isNew\") === \"True\") {\r\n        // getObjectsList(localStorageValue);\r\n        console.log(\"True\");\r\n        localStorage.setItem(\"isNew\", \"False\");\r\n\r\n        axios\r\n          .get(\"http://localhost:5000/fileUpload\")\r\n          .then((Response) => {\r\n            console.log(Response.data);\r\n            setResponseArray(Response.data.result.reverse());\r\n            setPhotoCount(Response.data.result.length)\r\n          })\r\n          .catch((Error) => {\r\n            console.log(Error);\r\n          });\r\n      }\r\n    }, 1000);\r\n  }, []);\r\n\r\n  function importAll(r: any) {\r\n    let images: any = {};\r\n    r.keys().forEach((item: any, index: any) => {\r\n      images[item.replace(\"./\", \"\")] = r(item);\r\n    });\r\n    return images;\r\n  }\r\n  const images = importAll(\r\n    require[\"context\"](\"./assets\", false, /\\.(png|jpe?g|svg)$/)\r\n  );\r\n\r\n  const consoleLog = (e: any) => {\r\n    if (e.code === \"Enter\") {\r\n      e.preventDefault();\r\n      console.log(e);\r\n      // capture();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n    {photoCount}\r\n    <div className=\"image-grid\">\r\n        {responseArray.map((item) => (\r\n            <img src={item}></img>\r\n        ))}\r\n        </div>\r\n    </>\r\n  );\r\n};\r\n","import { useRef, useState, useCallback } from \"react\";\nimport Webcam from \"react-webcam\";\nimport \"./styles.css\";\nimport { PhotoBooth } from \"./photoBooth\";\nimport { Gallery } from \"./gallery\";\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\n\nconst videoConstraints = {\n  width: 720,\n  height: 360,\n  facingMode: \"user\"\n};\n\nexport const App = () => {\n\treturn (\n\t\t<div className='App'>\n\t\t\t<BrowserRouter>\n\t\t\t\t<Routes>\n\t\t\t\t\t<Route path=\"/\" element={<PhotoBooth />}></Route>\n\t\t\t\t\t<Route path=\"/gallery\" element={<Gallery />}></Route>\n\t\t\t\t\t{/* <Route path=\"*\" element={<NotFound />}></Route> */}\n\t\t\t\t</Routes>\n\t\t\t</BrowserRouter>\n\t\t</div>\n\t);\n};","import ReactDOM, { render } from \"react-dom\";\n\nimport { App } from \"./App\";\nimport { createStore } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport { Provider } from 'react-redux';\nimport rootReducer from \"./modules/index\";\nimport {\n    createStateSyncMiddleware,\n    initMessageListener,\n  } from \"redux-state-sync\";\n\nconst store = createStore(rootReducer, composeWithDevTools());\nconsole.log(store.getState())\n\nReactDOM.render(\n    <Provider store={store}>\n        <App/>\n    </Provider>,\n    document.getElementById('root')\n);\n "],"sourceRoot":""}